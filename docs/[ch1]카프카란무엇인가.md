# 1장 카프카란 무엇인가
- 아파치 카프카는 빅데이터를 분석할 때 여러 스토리지와 분석 시스템에 데이터를 연결하기 위한 필수도구로 인식
## 1.1 카프카의 탄생배경
- 엔드투엔드 연결방식의 문제점
  - 복잡성 증가
- 데이터 파이프라인의 증대
  - 관리 어려움

#### 링크드인에서 확장이 용이한 시스템을 직접 구현
> 프로듀서와 컨슈머의 분리  
> 메시징 시스템과 같은 영구 메시지 데이터를 여러 컨슈머에게 허용  
> 높은 처리량  
> 스케일아웃이 가능한 시스템

## 1.2 카프카의 동작 방식과 원리
- 메시징 시스템과 비슷
  - 퍼블리셔(프로듀서)
  - 서브스크라이버(컨슈머)
````
    +-----------------------------------+
    |             Producer              |
    +-----------------------------------+
              |           |
     Produce Events     Produce Events
              |           |
    +---------v-----------v-----------+
    |             Kafka Cluster           |
    | +---------+ +---------+ +---------+ |
    | |  Broker | |  Broker | |  Broker | |
    | +----+----+ +----+----+ +----+----+ |
    |      |          |           |       |
    |    Partition  Partition   Partition |
    |      |          |           |       |
    |   Consumer   Consumer    Consumer  |
    |      |          |           |       |
    +------+----------+-----------+-------+
           |          |           |
     Consume Events Consume Events
           |          |           |
    +-----------------------------------+
    |            Consumer              |
    +-----------------------------------+
````
## 1.3 카프카의 특징
- 프로듀서와 컨슈머의 분리
  - 보내는 역할, 받는 역할 분리 (펍/섭)
- 멀티 프로듀서, 멀티 컨슈머
  - 하나의 토픽에 여러 프로듀서 또는 컨슈머 접근 가능
- 디스크에 메시지 저장
  - 정해져 있는 보관 주기동안 디스크에 메시지 저장(고가용성)
- 확장성
  - 카프카 클러스터는 최소 3대의 브로커에서 수십대 브로커 확장 가능
- 높은 성능

> 카프카 용어정리  
> 1. 카프카 : 애플리케이션 이름(카프카 클러스터라고도 불림)
> 2. 브로커 : 카프카가 설치된 서버 또는 노드
> 3. 토픽 : 메시지 구분 단위
> 4. 파티션 : 병렬처리 가능하도록 토픽을 나눌때 사용
> 5. 프로듀서 : 메시지를 생산하는 서버 또는 애플리케이션
> 6. 컨슈머 : 메시지를 가져가는 서버 또는 애플리케이션

## 1.4 카프카의 확장과 발전
- 카프카를 통해 EBS, 메시지버스, 이벤트 버스 등 데이터 흐름을 중앙에서 관리하는 사례가 늘어나고 있다.
- 실시간 분석
  - KSQL
- 확장성
  - 아파치 스톰, 스파크, 하둡 연동 등

## 1.5 정리